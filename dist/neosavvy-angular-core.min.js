/*! neosavvy-angular-core - v0.1.0 - 2013-07-21
* Copyright (c) 2013 Neosavvy, Inc.; Licensed  */
Neosavvy.Directives.directive("nsButtonBar",function(){return new Neosavvy.Traits("StatefulControl",{restrict:"E",replace:!0,templateUrl:"neosavvyinc/javascript-angular-core/library/directives/controls/ns-button-bar.html",scope:{labelField:"@labelField",dataField:"@dataField",multiSelect:"=multiSelect",selectedClass:"@selectedClass",items:"=items",selectedItems:"=selectedItems",selectedItem:"=selectedItem",asRow:"@asRow"},link:function(a){a.getListClass=function(){return a.asRow&&parseInt(a.asRow)?"row":null},a.getStyleClass=function(b,c){var d="";return a.asRow&&parseInt(a.asRow)&&a.items&&a.items.length&&(0==c?d+="first":c==a.items.length-1&&(d+="last")),(a.selectedItems&&-1!=a.selectedItems.indexOf(b)||a.selectedItem==b)&&(d+=" "+(a.selectedClass||"selected")),d},a.onClick=function(b){if(a.multiSelect){a.selectedItems=a.selectedItems||[];var c=a.selectedItems.indexOf(b);-1==c?a.selectedItems.push(b):a.selectedItems.splice(c,1),a.selectedItems=a.selectedItems.slice()}else a.selectedItem=b}}})}),Neosavvy.Directives.directive("nsTooltip",function(){return{compile:function(a,b){var c=b.tooltip;return $(a[0]).append('<div style="display: none;" class="tooltip '+c+'">&nbsp;</div>'),function(a,b){b.bind("mouseover",function(){a.$apply(function(){var a=b[0].getElementsByClassName(c)[0];$(a).css("display","block"),$(a).removeClass("animated fadeOut"),$(a).addClass("animated fadeIn")})}),b.bind("mouseleave",function(){a.$apply(function(){var a=b[0].getElementsByClassName(c)[0];$(a).removeClass("animated fadeIn"),$(a).addClass("animated fadeOut"),$(a).css("display","none")})})}}}}),Neosavvy.AngularCore.Directives.directive("nsLoadingOverlay",function(){return{restrict:"E",replace:!0,templateUrl:"static/application/core/directives/ns-loading-overlay.html",scope:{loading:"=loading"},link:function(a,b){var c=null,d={lines:13,length:40,width:6,radius:20,corners:1,rotate:0,color:"#000",speed:1,trail:60,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9,top:"auto",left:"auto"};a.$watch("loading",function(a){a?(c||(c=new Spinner(d)),c.spin(b[0])):c&&c.stop()})}}});var Neosavvy=Neosavvy||{};Neosavvy.TraitConstructors=Neosavvy.TraitConstructors||{},Neosavvy.TraitConstructors.StatefulControl=function(a){function b(a,b){return a.getAttribute(b)||a.getAttribute("data-"+b)}function c(a){return a&&a.replace(" ","").split(","),a}function d(a,b){return b?a+"."+b:a}function e(a,b){return function(c){return c?c.filter(function(c){if(c){var d=!0,e=!0;return a&&a.length?d=-1!=a.indexOf(c)||-1!=a.indexOf(c.value):b&&b.length&&(e=-1==b.indexOf(c)&&-1==b.indexOf(c.value)),d&&e}return!1}):null}}function f(a){var f=a.compile,g=a.link;return function(a,h,i){var j;return f&&(j=f.call(this,a,h,i)),function(a,f,h,k){if(!a.hasOwnProperty("items"))throw"Scope must define an items value in all stateful controls.";i(a,function(f){if(f.length){var g=f[0].children;if(g.length&&"ns-control-data"==g[0].tagName.replace(":","-").toLowerCase()){var h=g[0],i=b(h,"state-object"),j=b(h,"state-property"),k={},l=h.children;if(l.length){for(var m=0;m<l.length;m++){var n=l[m],o=c(b(n,"include")),p=c(b(n,"exclude")),q=b(n,"state-value");k[q]=e(o,p)}a.$parent.$watch(d(i,j),function(b){a.innerItems=k[b]?k[b](a.items):a.items})}}}}),j?j.call(this,a,f,h,k):g&&g.call(this,a,f,h,k)}}}if(a){a.transclude="element";var g=f(a);a.compile=g}return a};var Neosavvy=Neosavvy||{};Neosavvy.Traits=Neosavvy.Traits||{},Neosavvy.Traits=function(){if(arguments.length){var a=arguments[arguments.length-1];if(arguments.length>1)for(var b=0;b<arguments.length-1;b++){if(!Neosavvy.TraitConstructors[arguments[b]])throw"You have not defined a constructor the specified trait. Please check your spelling.";a=new Neosavvy.TraitConstructors[arguments[b]](a)}return a}throw"You must pass directive options in order to define a directive with traits."},Neosavvy.Filters.filter("numberToOrdinal",function(){return function(a){return a||0==a?Neosavvy.Core.Utils.NumberUtils.toOrdinal(a):null}});var Neosavvy=Neosavvy||{};Neosavvy.AngularCore=Neosavvy.AngularCore||{},Neosavvy.AngularCore.Directives=angular.module("neosavvy.angularcore.directives",[]),Neosavvy.AngularCore.Filters=angular.module("neosavvy.angularcore.filters",[]),Neosavvy.AngularCore.Services=angular.module("neosavvy.angularcore.services",[]),Neosavvy.AngularCore.Services.factory("nsServiceExtensions",["$q","$http",function(a,b){return{request:function(c,d,e){if(!c.method)throw"You must provide a method for each service request.";if(!c.url)throw"You must provide a url for each service request.";var f=a.defer();return b(c).success(function(a){f.resolve(a),d&&d(a)}).error(function(a){f.reject(a),e&&e(a)}),f.promise}}}]);